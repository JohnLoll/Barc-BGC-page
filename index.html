<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Roblox Cloud Alt Detector</title>

<style>
body {
  background:#0b0f14;
  color:#e6e6e6;
  font-family:Arial,sans-serif;
}
.container {
  max-width:800px;
  margin:40px auto;
  padding:20px;
  background:#121821;
  border-radius:8px;
}
input, textarea, button {
  width:100%;
  padding:10px;
  margin-top:8px;
  background:#1b2330;
  border:none;
  color:white;
}
button {
  background:#3b82f6;
  cursor:pointer;
}
.card {
  margin-top:20px;
  padding:15px;
  background:#1b2330;
  border-radius:6px;
}
.high { color:#ef4444 }
.medium { color:#f59e0b }
.low { color:#10b981 }
small { opacity:.7 }
</style>
</head>

<body>
<div class="container">
  <h1>Roblox Cloud Alt Detection</h1>

  <label>Roblox Cloud API Key</label>
  <input id="apikey" placeholder="rbx_cloud_..." />

  <label>Roblox Usernames (comma separated)</label>
  <textarea id="usernames" rows="3" placeholder="user1, user2"></textarea>

  <button onclick="runCheck()">Run Check</button>

  <div id="output"></div>
</div>

<script>
const sleep = ms => new Promise(r => setTimeout(r, ms));

async function cloudFetch(url, apiKey) {
  const res = await fetch(url, {
    headers: {
      "x-api-key": apiKey,
      "Content-Type": "application/json"
    }
  });
  if (!res.ok) throw new Error(`Cloud API error ${res.status}`);
  return res.json();
}

async function getUserId(username) {
  const res = await fetch("https://users.roblox.com/v1/usernames/users", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ usernames: [username] })
  });
  const data = await res.json();
  return data.data?.[0]?.id;
}

async function getUserCloudProfile(userId, apiKey) {
  return cloudFetch(
    `https://apis.roblox.com/cloud/v2/users/${userId}`,
    apiKey
  );
}

async function getInventoryCloud(userId, apiKey, assetType) {
  const url =
    `https://apis.roblox.com/cloud/v2/inventories/users/${userId}/items?assetType=${assetType}&maxPageSize=100`;
  try {
    const data = await cloudFetch(url, apiKey);
    return data.items?.length ?? 0;
  } catch {
    return 0;
  }
}

function scoreAlt({ age, clothing }) {
  let score = 0;
  if (age < 30) score += 40;
  if (clothing < 5) score += 30;

  if (score >= 50) return { label: "HIGH ALT", class: "high" };
  if (score >= 25) return { label: "MEDIUM ALT", class: "medium" };
  return { label: "LOW / NOT ALT", class: "low" };
}

async function runCheck() {
  const out = document.getElementById("output");
  out.innerHTML = "Running...";

  const apiKey = document.getElementById("apikey").value.trim();
  const names = document
    .getElementById("usernames")
    .value.split(",")
    .map(s => s.trim())
    .filter(Boolean);

  out.innerHTML = "";

  for (const name of names) {
    try {
      const userId = await getUserId(name);
      if (!userId) throw "User not found";

      const profile = await getUserCloudProfile(userId, apiKey);
      const created = new Date(profile.created);
      const age = Math.floor((Date.now() - created) / 86400000);

      const shirts = await getInventoryCloud(userId, apiKey, "Shirt");
      const pants = await getInventoryCloud(userId, apiKey, "Pants");

      const result = scoreAlt({
        age,
        clothing: shirts + pants
      });

      out.innerHTML += `
        <div class="card">
          <h3>${name}</h3>
          <p>Account Age: ${age} days</p>
          <p>Clothing: ${shirts + pants}</p>
          <h2 class="${result.class}">${result.label}</h2>
          <a href="https://www.roblox.com/users/${userId}/profile" target="_blank">
            View Profile
          </a>
        </div>
      `;
    } catch (e) {
      out.innerHTML += `<div class="card">Failed: ${name}</div>`;
    }
    await sleep(600);
  }
}
</script>
</body>
</html>
